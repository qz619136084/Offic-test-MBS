$(function(){function e(){var e=setInterval(function(){if($("#main_container").length&&"none"==$("#loading").css("display")){var t=$(window).width();if(t<=768){var i=$(".container_guest").height()+$("#booking_page_step_container").height();$("#main_container").before("<div class='dy-fill' style='display:none; height:"+i+"px'></div>");var o=$("#booking_page_step_container").offset().top;$(window).scroll(function(){var e=$(window).scrollTop();e>=o?($(".dy-fill").show(),$(".container_guest").addClass("dy-fixed"),$("#booking_page_step_container").addClass("dy-fixed")):($(".dy-fill").hide(),$(".container_guest").removeClass("dy-fixed"),$("#booking_page_step_container").removeClass("dy-fixed"))})}else{var n=$(".filter_box").outerHeight(),a=$("#booking_page_step_container .container").outerHeight();$("#main_container").before("<div class='dy-fill-filterBox' style='display:none; height:"+n+"px'></div><div class='dy-fill-stepBanner' style='display:none; height:"+a+"px'></div>");var l=$("#booking_page_step_container .container").offset().top,r=$(".filter_box").offset().top,s=$("#booking_page_step_container .container").css("paddingLeft"),d=$("#main_container").css("paddingLeft"),c=$("body").css("marginLeft");$(".temp-oph-wrap .collapse-toggle").click(function(){setTimeout(function(){l=$("#booking_page_step_container .container").offset().top,r=$(".filter_box").offset().top},300)}),setTimeout(function(){$(window).scroll(function(){var e=$(window).scrollTop();if(e>=l){var t=parseFloat(c)+parseFloat(s);$(".dy-fill-stepBanner").show(),$("#booking_page_step_container .container").addClass("dy-fixed").css({"padding-left":t+"px","padding-right":t+"px"})}else $(".dy-fill-stepBanner").hide(),$("#booking_page_step_container .container").removeClass("dy-fixed").css({"padding-left":s,"padding-right":s}),s=$("#booking_page_step_container .container").css("paddingLeft"),d=$("#main_container").css("paddingLeft"),c=$("body").css("marginLeft");if(e>=r-57){var i=parseFloat(c)+parseFloat(d);$(".dy-fill-filterBox").show(),$(".filter_box").addClass("dy-fixed").css({"padding-left":i+"px","padding-right":i+"px"})}else $(".dy-fill-filterBox").hide(),$(".filter_box").removeClass("dy-fixed").css({"padding-left":"0","padding-right":"0"}),d=$("#main_container").css("paddingLeft"),c=$("body").css("marginLeft")})},300)}clearInterval(e)}},100)}function t(){$(".room_card").closest("li").show();var e=[],t=[];if($(".dy-bath-filter .dy-title+ul li").each(function(){var e=$(this).attr("id");$("body").removeClass(e)}),$(".dy-bath-filter input:checked").each(function(){var t=$(this).closest("li").attr("id"),i=$(this).closest("li").text().trim();e.push(i),$("body").addClass(t)}),e.length>0){for(let n=0;n<e.length;n++){var o=e[n];0==n?$.each(l,function(e,i){o==e&&(t=i)}):n>0&&$.each(l,function(e,n){if(o==e){var a=n;t=i(t,a)}})}$(".txt-x-lg-lb.txt-black-five.ls-1.lh-30:not(.modal_title)").each(function(){var e=$(this).html().replace(/<span>.*<\/span>/gim,"").trim();-1==$.inArray(e,t)&&$(this).closest(".room_card").closest("li").hide()})}}function i(e,t){var i=[],o=null;e.length<t.length&&(o=e,e=t,t=o);for(let o=0;o<t.length;o++){var n=t[o];e.indexOf(n)>-1&&i.push(n)}return i}function o(){var e=setInterval(function(){$(".modal_footer button").length&&($(".modal_footer button").click(function(){t()}),clearInterval(e))},100)}function n(){var e=setInterval(function(){$(".room_views.dropdown_menu li").length&&"none"==$("#loading").css("display")&&($(".room_views.dropdown_menu li").click(function(){t()}),clearInterval(e))},50),i=setInterval(function(){$(".room_types.dropdown_menu li").length&&"none"==$("#loading").css("display")&&($(".room_types.dropdown_menu li").click(function(){t()}),clearInterval(i))},50)}$("body").addClass("dy-sticky-filter");var a=$(window).width(),l={"Glass-enclosed shower":["Deluxe Room","Premier Room","Family Room","Family 1-Bedroom","Family Studio","Family 2-Bedroom","Club Room","Grand Club Room","Orchid Suite","Bay Suite","Sands Suite","Harbour Suite","Marina Suite","Skyline Suite","Merlion Suite","Straits Suite","Presidential Suite","Chairman Suite"],"Deep-soaking bathtub":["Premier Room","Family Room","Family 1-Bedroom","Family Studio","Family 2-Bedroom","Club Room","Grand Club Room","Orchid Suite","Bay Suite","Sands Suite","Harbour Suite","Skyline Suite"],Jacuzzi:["Marina Suite","Merlion Suite","Straits Suite","Presidential Suite","Chairman Suite"]},r=setInterval(function(){var i=$(".inner_circle_step.shapeborder_selected_in");if(2==i.length){var l=setInterval(function(){if(null!=f_getSessionStorage()&&"none"==$("#loading").css("display")){if(a<=768){var i=$("#booking_information_edit"),r=$(".filter_box_mobile");r.addClass("outlet_container").css("padding","0").children("button").addClass("mbs_button_primary").addClass("dy-filter-btn");var s=i.prop("outerHTML"),d=r.prop("outerHTML");i.remove(),r.remove(),$("#guest_adults_children").after(s),$(".booking_information").after(d),$(".dy-filter-btn").click(function(){var e=setInterval(function(){$("#filter_moible").length&&"none"==$("#loading").css("display")&&($(".filter_moible_box .pt-10").removeClass("pt-10"),$(".filter_moible_box .room_filters_dropdown").eq(0).before("<div class='filter_box_right_title currency_label'>Room Types</div>"),$(".filter_moible_box .room_filters_dropdown").eq(1).before("<div class='filter_box_right_title currency_label'>Room Views</div>"),$(".filter_moible_box:first-child").after("<div class='dy-bath-filter filter_moible_box'> <div class='dy-title filter_box_right_title'><b>Bath Amenities</b></div> <ul> <li id='glass-enclosed-shower'> <label class='checkbox'> <input type='checkbox' /><span></span>Glass-enclosed shower</label > </li> <li id='deep-soaking-bathtub'> <label class='checkbox'> <input type='checkbox' /><span></span> Deep-soaking bathtub</label > </li> <li id='jacuzzi'> <label class='checkbox'> <input type='checkbox' /><span></span>Jacuzzi</label > </li> </ul> </div>"),$(".dy-bath-filter .dy-title+ul li").each(function(){var e=$(this).attr("id");$("body."+e).length?$(this).find("input").prop("checked",!0):$(this).find("input").prop("checked",!1)}),o(),clearInterval(e))},100)}),e()}else{var c=$(".guest_duration").prop("outerHTML");$(".guest_duration").remove(),$(".filter_box_left").before(c),$(".filter_box_left").append("<div class='seperator'></div>");var p=$("#booking_information_edit").prop("outerHTML");$("#booking_information_edit").remove(),$(".booking_information_people").append(p);var _=$("#sort_by").prop("outerHTML");$(".filter_box").after(_),$("#sort_by").remove(),$(".filter_box_right .seperator").before("<div class='room_filters_dropdown dy-bath-filter'> <a id='dy-bath-amenities-a' class='dropdown_a dy-dropdown_a txt_md_lb dropdown_toggle' >Bath Amenities</a > <ul class='dy-bath-dropdown-menu' style='display: none'> <li class='dropdown_menu_item'> <label class='checkbox'> <input type='checkbox' /><span></span>Glass-enclosed shower</label > </li> <li class='dropdown_menu_item'> <label class='checkbox'> <input type='checkbox' /><span></span> Deep-soaking bathtub</label > </li> <li class='dropdown_menu_item'> <label class='checkbox'> <input type='checkbox' /><span></span>Jacuzzi</label > </li> </ul> </div>"),n();var f=setInterval(function(){$("#booking_information_edit").length&&($("#booking_information_edit").click(function(){var e=f_getSessionStorage().checkindate,t=f_getSessionStorage().los,i=f_getSessionStorage().rooms,o=setInterval(function(){$("#s_btn_view_rooms").length&&($("#s_btn_view_rooms").click(function(){var o=setInterval(function(){if(null!=f_getSessionStorage()&&"none"==$("#loading").css("display")){var a=$(".calendar_date_select").eq(0).attr("data-daydata"),l=$(".calendar_date_select_range").length+1,r=$("#rate_container_box .rate_item").length;e==a&&t==l&&i==r||(n(),$(".dy-bath-filter input:checked").trigger("click")),clearInterval(o)}},100)}),clearInterval(o))},10)}),clearInterval(f))},10);$("#dy-bath-amenities-a").click(function(){"yes"==$(this).attr("dropdown")?($(this).next("ul").hide(),$(this).removeClass("dropdown_toggle_up").addClass("dropdown_toggle"),$(this).attr("dropdown","no")):($(this).next("ul").show(),$(this).removeClass("dropdown_toggle").addClass("dropdown_toggle_up"),$(this).attr("dropdown","yes"))}),$(".dy-bath-dropdown-menu li input").click(function(){t()}),$(document).click(function(e){var t=$(e.target);t.closest("ul").is(".dy-bath-dropdown-menu")||t.is("#dy-bath-amenities-a")||($("#dy-bath-amenities-a").next("ul").hide(),$("#dy-bath-amenities-a").removeClass("dropdown_toggle_up").addClass("dropdown_toggle"),$("#dy-bath-amenities-a").attr("dropdown","no"))}),e()}clearInterval(l)}},50);clearInterval(r)}},50)});