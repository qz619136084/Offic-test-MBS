$(function(){function e(){return new Promise((e,n)=>{var t=setInterval(()=>{"none"==$(".loading-icon").css("display")&&(e(),clearInterval(t))},100)})}function n(){var e=$("#wtSelectionContainer").css("display");if("none"!=e){o();var n=document.getElementById("wtSelectionContainer"),a={attributes:!0,childList:!0,subtree:!0},l=function(e,n){for(let n of e)"childList"===n.type&&(console.log("multi changing"),$("body").addClass("flicker370"),setTimeout(()=>{t(),o(),i()},300))},r=new MutationObserver(l);r.observe(n,a)}}function t(){$("body").addClass("flicker370"),e().then(()=>c()).then(()=>{console.log("hiding lower floor"),l(),$("#wtRoomViewDropdown option:contains("+d+")").hide(),$(".room_card .room_ImageCenterPanel:has(.txt-black-five:contains('"+d+"')) .amenitiesDiv").each(function(){var e=$(this).find(".txt-lg-lr:last");e.text(h)}),$(".room_card .room_ImageCenterPanel .txt-black-five:contains('"+d+"')").each(function(){var e=$(this).html().replace("&nbsp;-&nbsp;"+d,"").trim();$(this).html(e)}),$("body").removeClass("flicker370")})}function o(){$("body").addClass("flicker370"),e().then(()=>{$("#wtListRoomInfo .pl-1.pt-1.bold:contains('"+d+"')").each(function(){var e=$(this).text().replace(" - "+d,"");$(this).text(e)}),$("body").removeClass("flicker370")})}function i(){$("#wtfilters select.room_filters_dropdown").unbind("change.hideLower"),$("#wt78").unbind("click.hideLower"),DYO.waitForElementAsync("#wtfilters select.room_filters_dropdown").then(()=>{$("#wtfilters select.room_filters_dropdown").bind("change.hideLower",()=>{console.log("changing"),$("#wtRoomListContainer").addClass("updating"),t()})}),DYO.waitForElementAsync("#wt78").then(()=>{$("#wt78").bind("click.hideLower",()=>{console.log("clicking"),$("#wtRoomListContainer").addClass("updating"),t()})})}function a(){DYO.waitForElementAsync("#wtRoominfoWrapper .responsiveTable").then(()=>{$("#wtRoominfoWrapper .responsiveTable:contains('"+d+"')").each(function(){var e=$(this).find("span:eq(0)"),n=e.text().replace(" - "+d,"");e.text(n)})})}function l(){e().then(()=>{$(".view_room_details_link a").unbind("click.hideLower"),$(".room_ImagePanel a").unbind("click.hideLower"),$(".view_room_details_link a").bind("click.hideLower",()=>{console.log("link clicking"),r()}),$(".room_ImagePanel").each(function(){$(this).children("a").bind("click.hideLower",()=>{console.log("image clicking"),r()})})})}function r(){e().then(()=>{$("#wtmodalRoomdetails .modal-head .h5:contains('"+d+"')").text($("#wtmodalRoomdetails .modal-head .h5:contains('"+d+"')").text().replace(""+d,"").trim()),$(".accordion_card .ListRecords").each((e,n)=>{e<2&&$(n).find(".circle_bullet:last").text(h)})})}function c(){return new Promise(e=>{var n=setInterval(()=>{$("#wtRoomListContainer").hasClass("updating")||(console.log("updating done"),e(),clearInterval(n))},100)})}var s=window.location.href,d=null,h=null;if(s.indexOf("zh.")>-1?(d="低层景观",h="2-9 层"):s.indexOf("hk.")>-1?(d="低層景觀",h="2 樓至 9 樓"):s.indexOf("jp.")>-1?(d="低層階(窓ありビューなし)",h="2階～9階"):s.indexOf("ko.")>-1?(d="낮은층",h="2층에서 9층"):s.indexOf("id.")>-1?(d="Lantai Bawah",h="Terletak di L2 hingga L9"):(d="Lower Floor",h="Located on L2 to L9"),s.indexOf("/RoomSelectionPage.aspx")>-1)var f=setInterval(()=>{var e=$(".inner_circle_step.shapeborder_selected_in");2==e.length&&(t(),i(),n(),clearInterval(f))},100);else s.indexOf("/GuestInformationPage.aspx")>-1?a():s.indexOf("/BookingConfirmation.aspx")>-1&&DYO.waitForElementAsync(".rateCell").then(()=>{$(".rateCell:contains('"+d+"')").each(function(){var e=$(this).children("div");e.text(e.text().replace(" - "+d,"").trim())})})});