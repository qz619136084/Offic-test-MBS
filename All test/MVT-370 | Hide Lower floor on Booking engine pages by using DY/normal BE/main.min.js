$(function(){function e(){return new Promise((e,o)=>{var t=setInterval(()=>{"none"==$("#loading").css("display")&&(e(),clearInterval(t))},100)})}function o(){var e=t("Rooms");if(e>1){var o=document.getElementById("multiRoomBanner_outlet"),i={attributes:!0,childList:!0,subtree:!0},a=function(e,o){for(let o of e)if("childList"===o.type){var t=o.addedNodes,i=o.removedNodes;($.inArray($(".banner_card_outlet")[0],t)>-1||$.inArray($(".banner_card_outlet")[0],i)>-1)&&($("body").addClass("flicker370"),setTimeout(()=>{r(),n(),l(),_()},300))}},c=new MutationObserver(a);c.observe(o,i)}}function t(e){var o=window.location.search.substring(1),t=o.split("&");for(i=0;i<t.length;i++){var r=t[i].split("=")[0],n=t[i].split("=")[1];if(e==r)return n}}function r(){$("body").addClass("flicker370"),e().then(()=>{$("li[roomview='Lower Floor']").hide(),$(".room_card .room_ImageCenterPanel .txt-black-five").each(function(){$(this).find("span:contains('Lower Floor')").remove();var e=$(this).text().trim();$(this).text(e)}),$("body").removeClass("flicker370")})}function n(){$("body").addClass("flicker370"),e().then(()=>{$(".banner_card_title b:contains('Lower Floor')").each(function(){var e=$(this).text().replace(" - Lower Floor","");$(this).text(e)}),$("body").removeClass("flicker370")})}function l(){$(".room_filters_dropdown:not(.dy-bath-filter) a+ul li").unbind("click.hideLower"),$(".room_filters_dropdown.dy-bath-filter a+ul li input").unbind("click.hideLower"),$(".currency_dropdown a+ul li").unbind("click.hideLower"),$("#sort_by").unbind("click.hideLower"),DYO.waitForElementAsync(".room_filters_dropdown:not(.dy-bath-filter) a+ul li").then(()=>{$(".room_filters_dropdown:not(.dy-bath-filter) a+ul li").bind("click.hideLower",()=>{r(),_()})}),DYO.waitForElementAsync(".room_filters_dropdown.dy-bath-filter a+ul li input").then(()=>{$(".room_filters_dropdown.dy-bath-filter a+ul li input").bind("click.hideLower",()=>{r(),_()})}),DYO.waitForElementAsync(".currency_dropdown a+ul li").then(()=>{$(".currency_dropdown a+ul li").bind("click.hideLower",()=>{r(),_()})}),DYO.waitForElementAsync("#sort_by").then(()=>{$("#sort_by").bind("click.hideLower",()=>{r(),_()})})}function a(){d();var e=document.getElementById("upgrade_dialog"),o={attributes:!0,childList:!0,subtree:!0},t=function(o,t){for(let t of o)"attributes"==t.type&&"style"==t.attributeName&&t.target==e&&("block"==$("#upgrade_dialog").css("display")?$("#upgrade_dialog").hasClass("showed")||($(".currentRoomName:contains('Lower Floor')").text($(".currentRoomName:contains('Lower Floor')").text().replace(" - Lower Floor","")),$(".roomName:contains('Lower Floor')").text($(".roomName:contains('Lower Floor')").text().replace(" - Lower Floor","")),$("#upgrade").hasClass("binded")||$("#upgrade").addClass("binded").click(()=>{s()}),$("#upgrade_dialog").addClass("showed")):($("#upgrade_dialog").removeClass("showed"),$(".undo_upgrade").click(()=>{d()})))},r=new MutationObserver(t);r.observe(e,o)}function c(){return new Promise((e,o)=>{var t=setInterval(()=>{"none"!=$(".upgraded").css("display")&&(e(),clearInterval(t))},100)})}function s(){e().then(()=>c()).then(()=>{$(".undo_title b:contains('Lower Floor')").text($(".undo_title b:contains('Lower Floor')").text().replace(" - Lower Floor",""))})}function d(){DYO.waitForElementAsync(".roomInfoBlock .panel_txt:not(.roomBlockTitle)").then(()=>{$(".roomInfoBlock .panel_txt:not(.roomBlockTitle):contains('Lower Floor')").each(function(){var e=$(this).text().replace(" - Lower Floor","");$(this).text(e)})})}function _(){e().then(()=>{$(".view_room_details_link").unbind("click.hideLower"),$(".room_ImagePanel div").unbind("click.hideLower"),$(".view_room_details_link").bind("click.hideLower",()=>{console.log("link clicking"),m()}),$(".room_ImagePanel").each(function(){$(this).children("div:eq(0)").bind("click.hideLower",()=>{console.log("image clicking"),m()})})})}function m(){e().then(()=>{$("#view_room_details .modal_title:contains(Lower Floor)").text($("#view_room_details .modal_title:contains(Lower Floor)").text().replace("Lower Floor","").trim())})}var u=window.location.href;if(u.indexOf("/booking/rooms.html")>-1)var h=setInterval(()=>{var e=$(".inner_circle_step.shapeborder_selected_in");if(2==e.length){var t=setInterval(()=>{if(null!=f_getSessionStorage()&&"none"==$("#loading").css("display")){r(),l(),o(),_();var e=setInterval(()=>{$("#booking_information_edit").length&&($("#booking_information_edit").click(()=>{var e=f_getSessionStorage().checkindate,t=f_getSessionStorage().los,n=f_getSessionStorage().rooms,i=setInterval(()=>{$("#s_btn_view_rooms").length&&($("#s_btn_view_rooms").click(()=>{var i=setInterval(()=>{if(null!=f_getSessionStorage()&&"none"==$("#loading").css("display")){var a=$(".calendar_date_select").eq(0).attr("data-daydata"),c=$(".calendar_date_select_range").length+1,s=$("#rate_container_box .rate_item").length;e==a&&t==c&&n==s||(r(),l(),o(),_()),clearInterval(i)}},100)}),clearInterval(i))},100)}),clearInterval(e))},100);clearInterval(t)}},100);clearInterval(h)}},100);else u.indexOf("/booking/multirooms.html")>-1?DYO.waitForElementAsync(".mulroom_card_right .vb+strong").then(()=>{$(".mulroom_card_right .vb+strong:contains('Lower Floor')").each(function(){var e=$(this).text().replace("-Lower Floor","");$(this).text(e)})}):u.indexOf("/booking/payment.html")>-1?(DYO.waitForElementAsync("#room_info .edit_txt").then(()=>{$("#room_info .edit_txt").click(()=>{DYO.waitForElementAsync("#s_btn_view_rooms").then(()=>{$("#s_btn_view_rooms").click(()=>{e().then(()=>{d()})})})})}),a()):u.indexOf("/booking/confirmation.html")>-1&&DYO.waitForElementAsync(".data-card .txt-lg-lr").then(()=>{$(".data-card .txt-lg-lr:contains('Lower Floor')").each(function(){var e=$(this).text().replace(" - Lower Floor","");$(this).text(e)})})});